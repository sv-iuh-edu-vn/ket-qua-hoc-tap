<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Kết quả học tập</title>

<style>
body{
    font-family: Arial, sans-serif;
    background:#f4f6f8;
    margin:20px;
}
.header{
    display:flex;
    align-items:center;
    margin-bottom:20px;
}
.header img{
    height:60px;
    margin-right:15px;
}
h1{color:#1e3799}
h2{color:#2f3640;margin-top:30px}

table{
    width:100%;
    border-collapse:collapse;
    background:#fff;
    margin-top:10px;
}
th,td{
    border:1px solid #ccc;
    padding:6px;
    text-align:center;
}
th{background:#dcdde1}

.summary{
    background:#fff;
    border:1px solid #ccc;
    padding:10px;
    margin-top:8px;
}
</style>
</head>

<body>

<div class="header">
    <img src="logo-iuh.png">
    <h1>KẾT QUẢ HỌC TẬP</h1>
</div>

<div id="app"></div>

<script>
function score(min,max){
    let v=Math.random()*(max-min)+min;
    v=Math.round(v*10)/10;
    return v.toFixed(1)+"0";
}

function xepLoai(ck){
    ck=parseFloat(ck);
    if(ck<6.5) return "C";
    if(ck<8) return "B";
    if(ck<9.5) return "A";
    return "A+";
}

function hocKy(title,mon){
    let html=`<h2>${title}</h2>
    <table>
    <tr>
        <th>STT</th>
        <th>Mã HP</th>
        <th>Tên môn</th>
        <th>TC</th>
        <th>LT</th>
        <th>TH</th>
        <th>GK</th>
        <th>CK</th>
        <th>Tổng</th>
        <th>Xếp loại</th>
    </tr>`;

    let tongTC=0, tongHe4=0;

    mon.forEach((m,i)=>{
        let lt=score(6.5,9);
        let th=score(6.5,9);
        let gk=score(6.5,9);
        let ck=score(6.6,9.5);

        let tong=((
            parseFloat(lt)*0.1+
            parseFloat(th)*0.1+
            parseFloat(gk)*0.3+
            parseFloat(ck)*0.5
        ).toFixed(1))+"0";

        let he4=ck>=8.5?4:ck>=7?3:2.5;
        tongTC+=m.tc;
        tongHe4+=he4*m.tc;

        html+=`
        <tr>
            <td>${i+1}</td>
            <td>${m.ma}</td>
            <td>${m.ten}</td>
            <td>${m.tc}</td>
            <td>${lt}</td>
            <td>${th}</td>
            <td>${gk}</td>
            <td>${ck}</td>
            <td>${tong}</td>
            <td>${xepLoai(ck)}</td>
        </tr>`;
    });

    let gpa=(tongHe4/tongTC);
    if(gpa<2.5) gpa=2.6;
    gpa=(Math.round(gpa*10)/10).toFixed(1)+"0";

    html+=`</table>
    <div class="summary">
        <b>Điểm TB học kỳ (hệ 4):</b> ${gpa}<br>
        <b>Tổng số tín chỉ:</b> ${tongTC}<br>
        <b>Xếp loại:</b> ${gpa>=3.2?"Giỏi":"Khá"}
    </div>`;

    return html;
}

document.getElementById("app").innerHTML=
hocKy("HK1 (2023–2024)",[
{ma:"420300060501",ten:"Nhập môn công tác kỹ sư",tc:2},
{ma:"420300325922",ten:"Toán cao cấp 1",tc:2},
{ma:"420300330709",ten:"Giáo dục thể chất 1",tc:2},
{ma:"420301416418",ten:"Triết học Mác - Lênin",tc:3},
{ma:"420301660013",ten:"Giáo dục QP & AN",tc:8}
])+

hocKy("HK2 (2023–2024)",[
{ma:"420300242207",ten:"Pháp luật đại cương",tc:2},
{ma:"420300319243",ten:"Kỹ năng làm việc nhóm",tc:2},
{ma:"420300328897",ten:"Toán cao cấp 2",tc:2},
{ma:"420300330664",ten:"Giáo dục thể chất 2",tc:2},
{ma:"420301416552",ten:"Kinh tế chính trị Mác - Lênin",tc:3},
{ma:"420301525372",ten:"Tiếng Anh 1",tc:3},
{ma:"420301530018",ten:"Ứng dụng 5S & Kaizen",tc:2}
])+

hocKy("HK1 (2024–2025)",[
{ma:"420300083110",ten:"Kỹ thuật xung số",tc:3},
{ma:"420300113905",ten:"Mạch điện năng cao",tc:3},
{ma:"420300279110",ten:"Mạch điện tử",tc:2},
{ma:"420301416724",ten:"CNXH khoa học",tc:3},
{ma:"420301416949",ten:"Lịch sử ĐCSVN",tc:3},
{ma:"420301525425",ten:"Tiếng Anh 2",tc:3}
])+

hocKy("HK2 (2024–2025)",[
{ma:"420300059304",ten:"Toán chuyên đề",tc:2},
{ma:"420300060706",ten:"Trường điện từ",tc:3},
{ma:"420300068404",ten:"Điện tử công suất",tc:3},
{ma:"420300071407",ten:"Khí cụ điện",tc:3},
{ma:"420300096311",ten:"Mạch điện",tc:3},
{ma:"420300103707",ten:"Máy điện",tc:3},
{ma:"420300301303",ten:"Kỹ thuật đo",tc:2},
{ma:"420300351515",ten:"Kỹ thuật an toàn",tc:2}
])+

hocKy("HK3 (2024–2025)",[
{ma:"420300055902",ten:"Cung cấp điện",tc:3},
{ma:"420301529601",ten:"CNTT trong chuyển đổi số",tc:2}
])+

hocKy("HK1 (2025–2026)",[
{ma:"420300066424",ten:"Tư tưởng Hồ Chí Minh",tc:2},
{ma:"420300068706",ten:"KT điều khiển tự động",tc:3},
{ma:"420300075609",ten:"Ngôn ngữ lập trình C",tc:3},
{ma:"420300103803",ten:"Hệ thống điện",tc:3},
{ma:"420300332048",ten:"Phương pháp tính",tc:3}
]);
</script>

</body>
</html>
